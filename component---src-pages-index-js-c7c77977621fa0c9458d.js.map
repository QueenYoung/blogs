{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./src/utils/typography.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/templates/Bio.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/templates/avatar.jpg","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/templates/components/ThemeToggle.jsx","webpack:///./src/templates/Layout.js"],"names":["BlogNav","_ref","to","title","date","spoiler","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","style","marginBottom","rhythm","gatsby_link__WEBPACK_IMPORTED_MODULE_4___default","tabIndex","boxShadow","dangerouslySetInnerHTML","__html","BlogIndex","_ref2","location","data","navigate","siteTitle","site","siteMetadata","posts","allMarkdownRemark","edges","menuRef","useRef","useEffect","selectedIndex","localStorage","getItem","current","Number","isNaN","firstChild","children","focus","setItem","_templates_Layout__WEBPACK_IMPORTED_MODULE_7__","react_helmet__WEBPACK_IMPORTED_MODULE_6___default","htmlAttributes","lang","ref","downshift__WEBPACK_IMPORTED_MODULE_3__","defaultIsOpen","initialIsOpen","itemToString","item","_ref3","getMenuProps","getItemProps","suppressRefError","map","_ref4","index","node","blogUrl","fields","slug","_node$frontmatter","frontmatter","_node$frontmatter$tit","Object","assign","key","onKeyPress","e","preventDefault","toLowerCase","excerpt","pageQuery","__webpack_require__","d","__webpack_exports__","scale","typography__WEBPACK_IMPORTED_MODULE_0__","typography__WEBPACK_IMPORTED_MODULE_0___default","n","typography_theme_wordpress_2016__WEBPACK_IMPORTED_MODULE_1__","typography_theme_wordpress_2016__WEBPACK_IMPORTED_MODULE_1___default","Wordpress2016","overrideThemeStyles","color","hr","background","a.gatsby-resp-image-link","a.anchor","a.anchor svg[aria-hidden=\"true\"]","stroke","p code","fontSize","h1 code, h2 code, h3 code, h4 code, h5 code, h6 code","li code","blockquote","borderLeftColor","opacity","blockquote.translation","googleFonts","typography","Typography","m","module","exports","require","default","Aside","styled","aside","_templateObject","Bio","react__WEBPACK_IMPORTED_MODULE_1___default","display","alignItems","src","profilePic","alt","marginRight","borderRadius","width","height","href","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","React","createContext","PropTypes","object","string","isRequired","func","p","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","propTypes","shape","noop","pointerCoord","event","changedTouches","length","touch","x","clientX","y","clientY","pageX","undefined","pageY","Toggle","onChange","props","objectWithoutPropertiesLoose_default","input","touchParams","moved","previouslyChecked","checked","defaultChecked","touchMoved","startX","hadFocusAtTouchStart","touchStarted","_useState","useState","hasFocus","setFocus","handleClick","useCallback","checkbox","target","click","handleTouchStart","handleTouchMove","currentX","handleTouchEnd","_touchParams$current","touchedStarted","handleTouchCancel","_touchParams$current2","handleFocus","onFocus","getIcon","type","icons","defaultProps","disabled","inputProps","classes","react_default","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","aria-label","PostContainer","section","HomeLink","Link","attrs","_templateObject2","Header","header","_templateObject3","Layout","cacheTheme","setChecked","colorSchemeChanged","matches","document","body","media","window","matchMedia","addListener","removeListener","rootPath","__PATH_PREFIX__","isRoot","marginTop","fontFamily","marginLeft","maxWidth","padding","ThemeToggle","unchecked","theme"],"mappings":"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","file":"component---src-pages-index-js-c7c77977621fa0c9458d.js","sourcesContent":["import Downshift from 'downshift';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link';\nimport React, { useEffect, useRef } from 'react';\nimport Helmet from 'react-helmet';\nimport Layout from '../templates/Layout';\nimport { rhythm } from '../utils/typography';\n\nconst BlogNav = ({ to, title, date, spoiler }) => (\n  <article>\n    <h3\n      className=\"blog-index\"\n      style={{\n        marginBottom: rhythm(1 / 4),\n      }}\n    >\n      <Link tabIndex={-1} style={{ boxShadow: 'none' }} to={to}>\n        {title}\n      </Link>\n    </h3>\n    <time>\n      <small>{date}</small>\n    </time>\n    <p\n      dangerouslySetInnerHTML={{\n        __html: spoiler,\n      }}\n    />\n  </article>\n);\n\nconst BlogIndex = ({ location, data, navigate }) => {\n  const siteTitle = data.site.siteMetadata.title;\n  const posts = data.allMarkdownRemark.edges;\n\n  const menuRef = useRef();\n  useEffect(() => {\n    // FIXME: 是否需要改成 context，并将 keyboard 的事件抽出来？\n    const selectedIndex = +localStorage.getItem('selectedIndex');\n    if (menuRef.current && !Number.isNaN(selectedIndex)) {\n      // @ts-ignore\n      menuRef.current.firstChild.children[selectedIndex].focus();\n      localStorage.setItem('selectedIndex', null);\n    }\n  }, [menuRef]);\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <Helmet title={siteTitle} htmlAttributes={{ lang: 'zh-cn' }} />\n      <nav ref={menuRef}>\n        <Downshift\n          defaultIsOpen\n          initialIsOpen\n          itemToString={item => (item ? item.title : '')}\n        >\n          {({ getMenuProps, getItemProps }) => (\n            <ol {...getMenuProps({}, { suppressRefError: true })}>\n              {posts.map(({ node }, index) => {\n                const blogUrl = node.fields.slug;\n                const { title = blogUrl, spoiler, date } = node.frontmatter;\n                return (\n                  <li\n                    tabIndex={0}\n                    {...getItemProps({\n                      key: node.fields.slug,\n                      index,\n                      onKeyPress(e) {\n                        e.preventDefault();\n                        const key = e.key.toLowerCase();\n                        switch (key) {\n                          case 'enter':\n                          case ' ':\n                            localStorage.setItem('selectedIndex', index);\n                            navigate(blogUrl);\n                          default:\n                            break;\n                        }\n                      },\n                      item: node.frontmatter,\n                      // style: {\n                      //   backgroundColor:\n                      //     highlightedIndex === index ? 'aliceblue' : 'var(--bg)',\n                      // },\n                    })}\n                  >\n                    <BlogNav\n                      to={blogUrl}\n                      title={title}\n                      date={date}\n                      spoiler={spoiler || node.excerpt}\n                    />\n                  </li>\n                );\n              })}\n            </ol>\n          )}\n        </Downshift>\n      </nav>\n    </Layout>\n  );\n};\nexport default BlogIndex;\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY/MM/DD\")\n            title\n            spoiler\n          }\n        }\n      }\n    }\n  }\n`;\n","import Typography from 'typography';\nimport Wordpress2016 from 'typography-theme-wordpress-2016';\nimport './global.css';\n\nWordpress2016.overrideThemeStyles = () => ({\n  a: {\n    color: 'var(--textLink)',\n  },\n  hr: {\n    background: 'var(--hr)',\n  },\n  'a.gatsby-resp-image-link': {\n    boxShadow: 'none',\n  },\n  // These two are for gatsby-remark-autolink-headers:\n  'a.anchor': {\n    boxShadow: 'none',\n  },\n  'a.anchor svg[aria-hidden=\"true\"]': {\n    stroke: 'var(--textLink)',\n  },\n  'p code': {\n    fontSize: '1rem',\n  },\n  'h1 code, h2 code, h3 code, h4 code, h5 code, h6 code': {\n    fontSize: 'inherit',\n  },\n  'li code': {\n    fontSize: '1rem',\n  },\n  blockquote: {\n    color: 'inherit',\n    borderLeftColor: 'inherit',\n    opacity: '0.8',\n  },\n  'blockquote.translation': {\n    fontSize: '1em',\n  },\n});\n\ndelete Wordpress2016.googleFonts;\n\nconst typography = new Typography(Wordpress2016);\n\n// Hot reload typography in development.\nif (process.env.NODE_ENV !== 'production') {\n  typography.injectStyles();\n}\n\nexport default typography;\nexport const rhythm = typography.rhythm;\nexport const scale = typography.scale;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { rhythm } from '../utils/typography';\nimport profilePic from './avatar.jpg';\n\nconst Aside = styled.aside`\n  display: flex;\n  flex-direction: column;\n  h3 {\n    margin: 8px 0;\n    font-size: 16px;\n  }\n`;\n\nconst Bio = () => (\n  <figure\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n    }}\n  >\n    <img\n      src={profilePic}\n      alt={`A cat named musa`}\n      style={{\n        marginRight: rhythm(1 / 2),\n        marginBottom: 0,\n        borderRadius: '50%',\n        width: rhythm(2),\n        height: rhythm(2),\n      }}\n    />\n    <Aside>\n      <h3>\n        👤 📜 by <a href=\"http://github.com/thoamsy\">thoamsy</a>\n      </h3>\n      <h3>Write some personal summary</h3>\n    </Aside>\n  </figure>\n);\n\nexport default Bio;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","module.exports = __webpack_public_path__ + \"static/avatar-6c83ccb0db60a97539ade1fe12738717.jpg\";","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { useCallback, useRef, useState } from 'react';\nimport './Toggle.css';\n\nconst noop = () => {};\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    const changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      const touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    const pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}\n\nconst Toggle = ({ onChange, ...props }) => {\n  const input = useRef(null);\n  const touchParams = useRef({\n    moved: false,\n    previouslyChecked: !!(props.checked || props.defaultChecked),\n    touchMoved: false,\n    startX: null,\n    hadFocusAtTouchStart: false,\n    touchStarted: false,\n  });\n  const [hasFocus, setFocus] = useState(false);\n\n  const handleClick = useCallback(\n    event => {\n      const checkbox = input.current;\n      touchParams.current.previouslyChecked = checkbox.checked;\n\n      if (event.target !== checkbox && touchParams.current.moved) {\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n      onChange(!checkbox.checked);\n    },\n    [input, touchParams]\n  );\n\n  const handleTouchStart = useCallback(\n    event => {\n      Object.assign(touchParams.current, {\n        startX: pointerCoord(event).x,\n        touchStarted: true,\n        hadFocusAtTouchStart: hasFocus,\n      });\n      setFocus(true);\n    },\n    [touchParams]\n  );\n\n  const handleTouchMove = useCallback(\n    event => {\n      if (!touchParams.current.touchStarted) return;\n      touchParams.current.touchMoved = true;\n\n      const { startX } = touchParams.current;\n      if (startX != null) {\n        let currentX = pointerCoord(event).x;\n        if (checked && currentX + 15 < startX) {\n          onChange(false);\n          touchParams.current.startX = currentX;\n        } else if (!checked && currentX - 15 > startX) {\n          onChange(true);\n          touchParams.current.startX = currentX;\n        }\n      }\n    },\n    [touchParams]\n  );\n\n  const handleTouchEnd = useCallback(\n    event => {\n      const {\n        touchMoved,\n        startX,\n        previouslyChecked,\n        hadFocusAtTouchStart,\n      } = touchParams.current;\n      if (!touchMoved) return;\n      const checkbox = input.current;\n      event.preventDefault();\n\n      if (startX != null) {\n        if (previouslyChecked !== checked) {\n          checkbox.click();\n        }\n\n        Object.assign(touchParams.current, {\n          touchedStarted: false,\n          startX: null,\n          touchMoved: false,\n        });\n      }\n\n      if (!hadFocusAtTouchStart) {\n        setFocus(false);\n      }\n    },\n    [touchParams]\n  );\n\n  const handleTouchCancel = useCallback(() => {\n    const { startX, hadFocusAtTouchStart } = touchParams.current;\n\n    startX != null &&\n      Object.assign(touchParams.current, {\n        touchStarted: false,\n        startX: null,\n        touchMoved: false,\n      });\n\n    if (hadFocusAtTouchStart) {\n      setFocus(false);\n    }\n  }, [touchParams]);\n\n  const handleFocus = useCallback(\n    event => {\n      props.onFocus && props.onFocus(event);\n\n      touchParams.current.hadFocusAtTouchStart = true;\n      setFocus(true);\n    },\n    [touchParams]\n  );\n\n  // const handleBlur = useCallback(\n  //   event => {\n  //     props.onBlur && props.onBlur(event);\n  //     touchParams.hadFocusAtTouchStart = false;\n  //     setFocus(false);\n  //   },\n  //   [touchParams]\n  // );\n\n  const getIcon = type => {\n    const { icons } = props;\n    if (!icons) {\n      return null;\n    }\n    return icons[type] === undefined\n      ? Toggle.defaultProps.icons[type]\n      : icons[type];\n  };\n\n  const { className, icons: _icons, disabled, checked, ...inputProps } = props;\n  const classes =\n    'react-toggle' +\n    (checked ? ' react-toggle--checked' : '') +\n    (hasFocus ? ' react-toggle--focus' : '') +\n    (disabled ? ' react-toggle--disabled' : '') +\n    (className ? ' ' + className : '');\n\n  return (\n    <div\n      className={classes}\n      onClick={handleClick}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onTouchCancel={handleTouchCancel}\n    >\n      <div className=\"react-toggle-track\">\n        <div className=\"react-toggle-track-check\">{getIcon('checked')}</div>\n        <div className=\"react-toggle-track-x\">{getIcon('unchecked')}</div>\n      </div>\n      <div className=\"react-toggle-thumb\" />\n\n      <input\n        {...inputProps}\n        checked={checked}\n        onChange={noop}\n        ref={input}\n        onFocus={handleFocus}\n        className=\"react-toggle-screenreader-only\"\n        type=\"checkbox\"\n        aria-label=\"Switch between Dark and Light mode\"\n      />\n    </div>\n  );\n};\nexport default Toggle;\n","import { Link } from 'gatsby';\nimport 'prismjs/themes/prism-okaidia.css';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { rhythm, scale } from '../utils/typography';\nimport Bio from './Bio';\nimport Toggle from './components/ThemeToggle';\n\nconst PostContainer = styled.section`\n  color: var(--textNormal);\n  background: var(--bg);\n  transition: color 0.3s ease-out, background 0.3s ease-out;\n  min-height: 100vh;\n`;\n\nconst HomeLink = styled(Link).attrs({ to: '/' })`\n  box-shadow: none;\n  text-decoration: none;\n  color: var(--textTitle);\n`;\n\nconst Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.625rem;\n`;\n\nconst THEME = 'theme';\n\nconst Layout = ({ location, title, children }) => {\n  let cacheTheme;\n  const [checked, setChecked] = useState(() => {\n    if (typeof localStorage !== 'undefined') {\n      cacheTheme = localStorage.getItem(THEME);\n      return cacheTheme === 'dark';\n    } else {\n      return false;\n    }\n  });\n\n  useEffect(() => {\n    const colorSchemeChanged = ({ matches }) => {\n      document.body.className = matches ? 'dark' : 'light';\n      setChecked(matches);\n    };\n\n    const media = window.matchMedia('(prefers-color-scheme: dark)');\n    media && media.addListener(colorSchemeChanged);\n    colorSchemeChanged({\n      matches: cacheTheme === undefined ? media.matches : checked,\n    });\n    return () => media && media.removeListener(colorSchemeChanged);\n  }, []);\n\n  let rootPath = '/';\n  if (typeof __PATH_PREFIX__ !== 'undefined') {\n    rootPath = __PATH_PREFIX__ + `/`;\n  }\n\n  let header;\n  const isRoot = location.pathname === rootPath;\n  if (isRoot) {\n    header = (\n      <h1\n        style={{\n          ...scale(1),\n          marginBottom: 0,\n          marginTop: 0,\n        }}\n      >\n        <HomeLink>{title}</HomeLink>\n      </h1>\n    );\n  } else {\n    header = (\n      <h3\n        style={{\n          fontFamily: 'sans-serif',\n          marginTop: 0,\n          marginBottom: rhythm(-1),\n        }}\n      >\n        <HomeLink>{title}</HomeLink>\n      </h3>\n    );\n  }\n  return (\n    <PostContainer>\n      <section\n        style={{\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          maxWidth: rhythm(24),\n          padding: `${rhythm(1.5)} ${rhythm(3 / 4)}`,\n        }}\n      >\n        <Header>\n          {header}\n          <Toggle\n            checked={checked}\n            icons={{\n              checked: <span>🌚</span>,\n              unchecked: <span>🌞</span>,\n            }}\n            onChange={checked => {\n              const theme = checked ? 'dark' : 'light';\n              document.body.className = theme;\n              setChecked(checked);\n              localStorage.setItem(THEME, theme);\n            }}\n          />\n        </Header>\n        {isRoot && <Bio />}\n        {children}\n      </section>\n    </PostContainer>\n  );\n};\n\nexport default Layout;\n"],"sourceRoot":""}