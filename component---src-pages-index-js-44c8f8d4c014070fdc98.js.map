{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./src/utils/typography.js","webpack:///./src/components/Bio.js","webpack:///./src/components/avatar.jpg","webpack:///./src/components/ThemeToggle.jsx","webpack:///./src/components/Layout.js"],"names":["__webpack_require__","r","__webpack_exports__","d","pageQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","gatsby_link__WEBPACK_IMPORTED_MODULE_1__","gatsby_link__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_2__","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","_components_Layout__WEBPACK_IMPORTED_MODULE_3__","_components_Bio__WEBPACK_IMPORTED_MODULE_4__","_utils_typography__WEBPACK_IMPORTED_MODULE_5__","BlogIndex","_ref","location","data","siteTitle","site","siteMetadata","title","posts","allMarkdownRemark","edges","a","createElement","htmlAttributes","lang","map","_ref2","node","_node$frontmatter","frontmatter","_node$frontmatter$tit","fields","slug","spoiler","date","key","className","style","marginBottom","rhythm","boxShadow","to","dangerouslySetInnerHTML","__html","excerpt","scale","typography__WEBPACK_IMPORTED_MODULE_0__","typography__WEBPACK_IMPORTED_MODULE_0___default","typography_theme_wordpress_2016__WEBPACK_IMPORTED_MODULE_1__","typography_theme_wordpress_2016__WEBPACK_IMPORTED_MODULE_1___default","Wordpress2016","overrideThemeStyles","color","hr","background","a.gatsby-resp-image-link","a.anchor","a.anchor svg[aria-hidden=\"true\"]","stroke","p code","fontSize","h1 code, h2 code, h3 code, h4 code, h5 code, h6 code","li code","blockquote","borderLeftColor","opacity","blockquote.translation","googleFonts","typography","Typography","_avatar_jpg__WEBPACK_IMPORTED_MODULE_1__","_avatar_jpg__WEBPACK_IMPORTED_MODULE_1___default","_utils_typography__WEBPACK_IMPORTED_MODULE_2__","Bio","display","alignItems","src","profilePic","alt","marginRight","borderRadius","width","height","margin","module","exports","p","noop","pointerCoord","event","changedTouches","length","touch","x","clientX","y","clientY","pageX","undefined","pageY","Toggle","onChange","props","objectWithoutPropertiesLoose_default","input","useRef","touchParams","moved","previouslyChecked","checked","defaultChecked","touchMoved","startX","hadFocusAtTouchStart","touchStarted","_useState","useState","hasFocus","setFocus","handleClick","useCallback","checkbox","current","target","preventDefault","focus","click","handleTouchStart","Object","assign","handleTouchMove","currentX","handleTouchEnd","_touchParams$current","touchedStarted","handleTouchCancel","_touchParams$current2","handleFocus","onFocus","handleBlur","onBlur","getIcon","type","icons","defaultProps","disabled","inputProps","classes","react_default","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","ref","aria-label","PostContainer","styled","main","_templateObject","HomeLink","Link","attrs","_templateObject2","Header","header","_templateObject3","Layout","cacheTheme","children","localStorage","getItem","setChecked","useEffect","colorSchemeChanged","matches","document","body","media","window","matchMedia","addListener","removeListener","rootPath","pathname","marginTop","fontFamily","marginLeft","maxWidth","padding","ThemeToggle","unchecked","theme","setItem"],"mappings":"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","file":"component---src-pages-index-js-44c8f8d4c014070fdc98.js","sourcesContent":["import React from 'react';\nimport { graphql } from 'gatsby';\nimport Link from 'gatsby-link';\nimport Helmet from 'react-helmet';\n\nimport Layout from '../components/Layout';\nimport Bio from '../components/Bio';\nimport { rhythm } from '../utils/typography';\n\nconst BlogIndex = ({ location, data }) => {\n  const siteTitle = data.site.siteMetadata.title;\n  const posts = data.allMarkdownRemark.edges;\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <Helmet title={siteTitle} htmlAttributes={{ lang: 'zh-cn' }} />\n      <Bio />\n      {posts.map(({ node }) => {\n        const { title = node.fields.slug, spoiler, date } = node.frontmatter;\n        return (\n          <div key={node.fields.slug}>\n            <h3\n              className=\"blog-index\"\n              style={{\n                marginBottom: rhythm(1 / 4),\n              }}\n            >\n              <Link style={{ boxShadow: 'none' }} to={node.fields.slug}>\n                {title}\n              </Link>\n            </h3>\n            <small>{date}</small>\n            <p\n              dangerouslySetInnerHTML={{\n                __html: spoiler || node.excerpt,\n              }}\n            />\n          </div>\n        );\n      })}\n    </Layout>\n  );\n};\nexport default BlogIndex;\n\nexport const pageQuery = graphql`\n  query IndexQuery {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY/MM/DD\")\n            title\n            spoiler\n          }\n        }\n      }\n    }\n  }\n`;\n","import Typography from 'typography';\nimport Wordpress2016 from 'typography-theme-wordpress-2016';\nimport './global.css';\n\nWordpress2016.overrideThemeStyles = () => ({\n  a: {\n    color: 'var(--textLink)',\n  },\n  hr: {\n    background: 'var(--hr)',\n  },\n  'a.gatsby-resp-image-link': {\n    boxShadow: 'none',\n  },\n  // These two are for gatsby-remark-autolink-headers:\n  'a.anchor': {\n    boxShadow: 'none',\n  },\n  'a.anchor svg[aria-hidden=\"true\"]': {\n    stroke: 'var(--textLink)',\n  },\n  'p code': {\n    fontSize: '1rem',\n  },\n  'h1 code, h2 code, h3 code, h4 code, h5 code, h6 code': {\n    fontSize: 'inherit',\n  },\n  'li code': {\n    fontSize: '1rem',\n  },\n  blockquote: {\n    color: 'inherit',\n    borderLeftColor: 'inherit',\n    opacity: '0.8',\n  },\n  'blockquote.translation': {\n    fontSize: '1em',\n  },\n});\n\ndelete Wordpress2016.googleFonts;\n\nconst typography = new Typography(Wordpress2016);\n\n// Hot reload typography in development.\nif (process.env.NODE_ENV !== 'production') {\n  typography.injectStyles();\n}\n\nexport default typography;\nexport const rhythm = typography.rhythm;\nexport const scale = typography.scale;\n","import React from 'react';\n\nimport profilePic from './avatar.jpg';\nimport { rhythm } from '../utils/typography';\n\nconst Bio = () => (\n  <div\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n    }}\n  >\n    <img\n      src={profilePic}\n      alt={`A cat named musa`}\n      style={{\n        marginRight: rhythm(1 / 2),\n        marginBottom: 0,\n        borderRadius: '50%',\n        width: rhythm(2),\n        height: rhythm(2),\n      }}\n    />\n    <h4 style={{ margin: 0 }}>Just Happy</h4>\n  </div>\n);\n\nexport default Bio;\n","module.exports = __webpack_public_path__ + \"static/avatar-6c83ccb0db60a97539ade1fe12738717.jpg\";","import React, { useCallback, useState, useRef } from 'react';\nimport './Toggle.css';\n\nconst noop = () => {};\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    const changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      const touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    const pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}\n\nconst Toggle = ({ onChange, ...props }) => {\n  const input = useRef(null);\n  const touchParams = useRef({\n    moved: false,\n    previouslyChecked: !!(props.checked || props.defaultChecked),\n    touchMoved: false,\n    startX: null,\n    hadFocusAtTouchStart: false,\n    touchStarted: false,\n  });\n  const [hasFocus, setFocus] = useState(false);\n\n  const handleClick = useCallback(\n    event => {\n      const checkbox = input.current;\n      touchParams.current.previouslyChecked = checkbox.checked;\n\n      if (event.target !== checkbox && touchParams.current.moved) {\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n      onChange(!checkbox.checked);\n    },\n    [input, touchParams]\n  );\n\n  const handleTouchStart = useCallback(\n    event => {\n      Object.assign(touchParams.current, {\n        startX: pointerCoord(event).x,\n        touchStarted: true,\n        hadFocusAtTouchStart: hasFocus,\n      });\n      setFocus(true);\n    },\n    [touchParams]\n  );\n\n  const handleTouchMove = useCallback(\n    event => {\n      if (!touchParams.current.touchStarted) return;\n      touchParams.current.touchMoved = true;\n\n      const { startX } = touchParams.current;\n      if (startX != null) {\n        let currentX = pointerCoord(event).x;\n        if (checked && currentX + 15 < startX) {\n          onChange(false);\n          touchParams.current.startX = currentX;\n        } else if (!checked && currentX - 15 > startX) {\n          onChange(true);\n          touchParams.current.startX = currentX;\n        }\n      }\n    },\n    [touchParams]\n  );\n\n  const handleTouchEnd = useCallback(\n    event => {\n      const {\n        touchMoved,\n        startX,\n        previouslyChecked,\n        hadFocusAtTouchStart,\n      } = touchParams.current;\n      if (!touchMoved) return;\n      const checkbox = input.current;\n      event.preventDefault();\n\n      if (startX != null) {\n        if (previouslyChecked !== checked) {\n          checkbox.click();\n        }\n\n        Object.assign(touchParams.current, {\n          touchedStarted: false,\n          startX: null,\n          touchMoved: false,\n        });\n      }\n\n      if (!hadFocusAtTouchStart) {\n        setFocus(false);\n      }\n    },\n    [touchParams]\n  );\n\n  const handleTouchCancel = useCallback(\n    () => {\n      const { startX, hadFocusAtTouchStart } = touchParams.current;\n\n      startX != null &&\n        Object.assign(touchParams.current, {\n          touchStarted: false,\n          startX: null,\n          touchMoved: false,\n        });\n\n      if (hadFocusAtTouchStart) {\n        setFocus(false);\n      }\n    },\n    [touchParams]\n  );\n\n  const handleFocus = useCallback(\n    event => {\n      props.onFocus && props.onFocus(event);\n\n      touchParams.current.hadFocusAtTouchStart = true;\n      setFocus(true);\n    },\n    [touchParams]\n  );\n\n  const handleBlur = useCallback(\n    event => {\n      props.onBlur && props.onBlur(event);\n      touchParams.hadFocusAtTouchStart = false;\n      setFocus(false);\n    },\n    [touchParams]\n  );\n\n  const getIcon = type => {\n    const { icons } = props;\n    if (!icons) {\n      return null;\n    }\n    return icons[type] === undefined\n      ? Toggle.defaultProps.icons[type]\n      : icons[type];\n  };\n\n  const { className, icons: _icons, disabled, checked, ...inputProps } = props;\n  const classes =\n    'react-toggle' +\n    (checked ? ' react-toggle--checked' : '') +\n    (hasFocus ? ' react-toggle--focus' : '') +\n    (disabled ? ' react-toggle--disabled' : '') +\n    (className ? ' ' + className : '');\n\n  return (\n    <div\n      className={classes}\n      onClick={handleClick}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onTouchCancel={handleTouchCancel}\n    >\n      <div className=\"react-toggle-track\">\n        <div className=\"react-toggle-track-check\">{getIcon('checked')}</div>\n        <div className=\"react-toggle-track-x\">{getIcon('unchecked')}</div>\n      </div>\n      <div className=\"react-toggle-thumb\" />\n\n      <input\n        {...inputProps}\n        checked={checked}\n        onChange={noop}\n        ref={input}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        className=\"react-toggle-screenreader-only\"\n        type=\"checkbox\"\n        aria-label=\"Switch between Dark and Light mode\"\n      />\n    </div>\n  );\n};\nexport default Toggle;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'gatsby';\nimport Toggle from './ThemeToggle';\n\nimport 'prismjs/themes/prism-okaidia.css';\nimport { rhythm, scale } from '../utils/typography';\n\nconst PostContainer = styled.main`\n  color: var(--textNormal);\n  background: var(--bg);\n  transition: color 0.3s ease-out, background 0.3s ease-out;\n  min-height: 100vh;\n`;\n\nconst HomeLink = styled(Link).attrs({ to: '/' })`\n  box-shadow: none;\n  text-decoration: none;\n  color: var(--textTitle);\n`;\n\nconst Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.625rem;\n`;\n\nconst THEME = 'theme';\nconst Layout = ({ location, title, children }) => {\n  let cacheTheme;\n  const [checked, setChecked] = useState(() => {\n    if (typeof localStorage !== 'undefined') {\n      cacheTheme = localStorage.getItem(THEME);\n      return cacheTheme === 'dark';\n    } else {\n      return false;\n    }\n  });\n\n  useEffect(() => {\n    const colorSchemeChanged = ({ matches }) => {\n      document.body.className = matches ? 'dark' : 'light';\n      setChecked(matches);\n    };\n\n    const media = window.matchMedia('(prefers-color-scheme: dark)');\n    media && media.addListener(colorSchemeChanged);\n    colorSchemeChanged({\n      matches: cacheTheme === undefined ? media.matches : checked,\n    });\n    return () => media && media.removeListener(colorSchemeChanged);\n  }, []);\n\n  let rootPath = '/';\n  if (typeof __PATH_PREFIX__ !== 'undefined') {\n    rootPath = __PATH_PREFIX__ + `/`;\n  }\n  let header;\n\n  if (location.pathname === rootPath) {\n    header = (\n      <h1\n        style={{\n          ...scale(1),\n          marginBottom: 0,\n          marginTop: 0,\n        }}\n      >\n        <HomeLink>{title}</HomeLink>\n      </h1>\n    );\n  } else {\n    header = (\n      <h3\n        style={{\n          fontFamily: 'sans-serif',\n          marginTop: 0,\n          marginBottom: rhythm(-1),\n        }}\n      >\n        <HomeLink>{title}</HomeLink>\n      </h3>\n    );\n  }\n  return (\n    <PostContainer>\n      <article\n        style={{\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          maxWidth: rhythm(24),\n          padding: `${rhythm(1.5)} ${rhythm(3 / 4)}`,\n        }}\n      >\n        <Header>\n          {header}\n          <Toggle\n            checked={checked}\n            icons={{\n              checked: <span>🌚</span>,\n              unchecked: <span>🌞</span>,\n            }}\n            onChange={checked => {\n              const theme = checked ? 'dark' : 'light';\n              document.body.className = theme;\n              setChecked(checked);\n              localStorage.setItem(THEME, theme);\n            }}\n          />\n        </Header>\n        {children}\n      </article>\n    </PostContainer>\n  );\n};\n\nexport default Layout;\n"],"sourceRoot":""}