{"data":{"site":{"siteMetadata":{"title":"😏","author":"Yang Kui"}},"markdownRemark":{"id":"4b39163b-7cd4-5b3b-95b4-c6964efda714","html":"<p>翻译自 Dan 的<a href=\"https://overreacted.io/react-as-a-ui-runtime/\">博客</a>。文章很长:)\n目前进度</p>\n<ul>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> 免责声明</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> host tree</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> host instance</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> renderers</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> react elements</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> entry point</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> lists</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> purity</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> recursion</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> inverse of control</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> lazy evaluation</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> state</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> consistency</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> memoization</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> raw model</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> batching</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> call tree</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> context</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> hooks</li>\n</ul>\n<p>许多教程中提到 React 是一个 UI 库，这说得没什么问题。就像字面上一样，它确实是一个 UI 库！\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0429fcb4a2f2022852afc698ff8968f1/a8f98/react.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 500px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 29.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEElEQVQY011Qy07DMBD0v1CniRM7dt4Pp01VWgmQOKEeekKCA0hIFUcOSIgfH9amDaWH0c4+ZrxeFiY5zjGPswlBqMCvIvCZ8Ajm8t/MpcZxdmkYyoKECubmAcv3b1S7J8Iz6v0L8vs95pH2c9I0MKWFLnqorJ2MWSBoE2H+QEVOm8jxDv3rB+zbJ4bDF5rHA8ztDjxMEcnSmzitM4nTyhsnugaTpoai19K8hc47z11T0pAQGkrliGMDlZKJrrw4qyxh8BqHhOpClcQ7MFP2aPoV+sV6QjesMYwb1N2IjnLXt8trLFZbtNbxDey49bmrO41QhT8DO32V0218PPIpP4v8OOu2dBvN6Ps8+u2dbvoDB8/AqO9EOdcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"React homepage screenshot: \"A JavaScript library for building user interfaces\"\"\n        title=\"\"\n        src=\"/static/0429fcb4a2f2022852afc698ff8968f1/a8f98/react.png\"\n        srcset=\"/static/0429fcb4a2f2022852afc698ff8968f1/ea1dd/react.png 200w,\n/static/0429fcb4a2f2022852afc698ff8968f1/f24e4/react.png 400w,\n/static/0429fcb4a2f2022852afc698ff8968f1/a8f98/react.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n      />\n  </span>\n  </a></p>\n<p>我之前写过关于创建 <a href=\"/the-elements-of-ui-engineering/\">UI</a> 所遇到的挑战，但是这篇博客将采用一个不同的方式的来讨论 React—更接近 <a href=\"https://en.wikipedia.org/wiki/Runtime_system\">programming runtime</a></p>\n<p><strong>这篇文章不会教你怎么使用 React 来创建 UI，</strong>如果你对 React 的编程方式有了更为深入的理解后，这篇文章可能帮到你。</p>\n<hr>\n<p><strong>注意：如果你正在学习 React，最好先看<a href=\"https://reactjs.org/docs/getting-started.html#learn-react\">文档</a></strong></p>\n<p><font size=\"60\">⚠️</font></p>\n<p><em>这是一篇深度文章，而不是一篇新人向教程！</em>在这里，我会从首要原则来描述大部分的 React 细节。我不会解释怎么使用它们—只说明它们是如何工作的。</p>\n<p>这文章面向有经验的开发和那些还在权衡是否使用 React 的其他 UI 库的使用者。我希望它能帮助到你们！</p>\n<p><strong>很多开发者即使没有考虑过这方面的问题，也舒舒服服地使用了 React 很长一段时间，</strong> This is definitely a programmer-centric view of React rather than, say, a <a href=\"http://mrmrs.cc/writing/2016/04/21/developing-ui/\">designer-centric one</a>. But I don’t think it hurts to have resources for both.</p>\n<p>看完了免责声明，起飞 🛫️ 吧！</p>\n<p>「译者注」：现在开始进入正题，标题和一些通用术语不翻译。</p>\n<hr>\n<h2>Host Tree</h2>\n<p>一部分程序吐出(output)数字，一些程序会写诗。不同的语言和它们的 runtimes 通常会针对一些特定的用例进行优化，React 也一样。</p>\n<p>React 程序通常会得到<strong>一颗随时会改变的树</strong>。它可能是 <a href=\"https://www.npmjs.com/package/react-dom\">DOM 树</a>、<a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/Devpedia-CocoaApp/View%20Hierarchy.html\">iOS 层级图(iOS hierarchy)</a>，<a href=\"https://react-pdf.org/\">PDF primitives</a>，甚至一个 <a href=\"https://reactjs.org/docs/test-renderer.html\">JSON</a> 对象。大多是时候我们都希望它为我们展示 UI。我们之所以称它为 ”<em>host</em> tree”是因为它属于 <strong>宿主环境（host environment）</strong> 的一部分—就像 DOM 和 iOS。Host tree 通常会有它们<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\">自身</a><a href=\"https://developer.apple.com/documentation/uikit/uiview/1622616-addsubview\">特有</a>的命令式（imperative） API。React is a layer on top of it.</p>\n<p>所以 React 是用来做什么的？抽象地说，它帮助你在响应一些类似于交互，网络响应，计时器等外部事件时，也能够可预测地管理这复杂的 Host tree。</p>\n<p>当一个专用工具可以通过施加特定的约束并从中获益的时候，它表现得会比通用的工具要好。React 在两个原则上做了一个赌注：</p>\n<ul>\n<li><strong>稳定性。</strong> Host tree 相对稳定，大多数的更新都不会从根本上改变它的整体结构。一个 app 每秒都会重新排列它所有的交互元素的工具显然很难使用，我的 button 去哪了？为什么我的显示屏在乱动？</li>\n<li><strong>规律性。</strong> Host tree 可以分解成外观和行为一致的 UI 模式（比如按钮 🔘，列表，头像 👤）而不是随机的形状。</li>\n</ul>\n<p><strong>对于大多数 UI 来说这些行为是正确的。</strong>但是如果你需要的 UI 没有稳定的输出模式时，React 就不适合了。比如，React 可以帮助你写一个类似 Twitter 客户端的玩意，但是写不了 <a href=\"https://www.youtube.com/watch?v=Uzx9ArZ7MUU\">3D pipes screensaver</a></p>","frontmatter":{"title":"React as a UI Runtime","spoiler":"An in-depth description of the React programming model.","date":"2019/02/02"}}},"pageContext":{"slug":"/react-as-a-runtime/","previous":{"fields":{"slug":"/solve-fresh-of-loading/solve the fresh of loading/"},"frontmatter":{"title":"解决 loading 闪烁的问题","spoiler":"无条件 loading 是有代价的"}},"next":null}}